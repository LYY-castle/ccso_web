<template>
  <div class>
    <div class="main">
      <div class="line">
        <div>
          <div>
            您的位置：
            <span @click="$router.push('/website/home')" style="cursor:pointer;">首页</span> > 专家名录
          </div>
        </div>
        <div class="search">
          <a-input-search placeholder="请输入姓名/编号" style="width: 200px"/>
        </div>
      </div>
      <div class="expert">
        <div class="title">
          <span>专家委员会</span>
        </div>
        <div class="detail">
          <div>
            <div style="display:flex; align-items: flex-end;font-size:12px;">
              <img
                src="http://chinaccso.org.cn:8090/upload/company/123456789012345678901234567890_logoFile_2016_03_31_16_34_20.png"
                alt
              >
              <div>
                <span>专家委员-甲</span>
                <span>2018-12-12</span>
              </div>
            </div>
            <div>
              <p>第一行第一行第一行第一</p>
            </div>
          </div>
          <div>
            <div style="display:flex; align-items: flex-end;font-size:12px;">
              <img
                src="http://chinaccso.org.cn:8090/upload/company/123456789012345678901234567890_logoFile_2016_03_31_16_34_20.png"
                alt
              >
              <div>
                <span>专家委员-甲</span>
                <span>2018-12-12</span>
              </div>
            </div>
            <div>
              <p>第一行第一行第一行第一</p>
            </div>
          </div>
          <div>
            <div style="display:flex; align-items: flex-end;font-size:12px;">
              <img
                src="http://chinaccso.org.cn:8090/upload/company/123456789012345678901234567890_logoFile_2016_03_31_16_34_20.png"
                alt
              >
              <div>
                <span>专家委员-甲</span>
                <span>2018-12-12</span>
              </div>
            </div>
            <div>
              <p>第一行第一行第一行第一</p>
            </div>
          </div>
          <div>
            <div style="display:flex; align-items: flex-end;font-size:12px;">
              <img
                src="http://chinaccso.org.cn:8090/upload/company/123456789012345678901234567890_logoFile_2016_03_31_16_34_20.png"
                alt
              >
              <div>
                <span>专家委员-甲</span>
                <span>2018-12-12</span>
              </div>
            </div>
            <div>
              <p>第一行第一行第一行第一</p>
            </div>
          </div>
        </div>
        <div class="title">
          <span>注册评审员</span>
        </div>
        <div class="qiye">
          <div>
            <img
              src="http://chinaccso.org.cn:8090/upload/company/123456789012345678901234567890_logoFile_2016_03_31_16_34_20.png"
              alt
            >
            <div>注册合作企业</div>
            <div>
              第一行第一行第一行第一行第一行第一行第二行第二行第二行第二行第二行第二行
              第三行第三行第三行第三行第...
            </div>
          </div>
          <div>
            <img
              src="http://chinaccso.org.cn:8090/upload/company/123456789012345678901234567890_logoFile_2016_03_31_16_34_20.png"
              alt
            >
            <div>注册合作企业</div>
            <div>
              第一行第一行第一行第一行第一行第一行第二行第二行第二行第二行第二行第二行
              第三行第三行第三行第三行第...
            </div>
          </div>
          <div>
            <img
              src="http://chinaccso.org.cn:8090/upload/company/123456789012345678901234567890_logoFile_2016_03_31_16_34_20.png"
              alt
            >
            <div>注册合作企业</div>
            <div>
              第一行第一行第一行第一行第一行第一行第二行第二行第二行第二行第二行第二行
              第三行第三行第三行第三行第...
            </div>
          </div>
          <div>
            <img
              src="http://chinaccso.org.cn:8090/upload/company/123456789012345678901234567890_logoFile_2016_03_31_16_34_20.png"
              alt
            >
            <div>注册合作企业</div>
            <div>
              第一行第一行第一行第一行第一行第一行第二行第二行第二行第二行第二行第二行
              第三行第三行第三行第三行第...
            </div>
          </div>
        </div>
        <div class="title">
          <span>注册协调员</span>
        </div>
        <div class="qiye">
          <div>
            <img
              src="http://chinaccso.org.cn:8090/upload/company/123456789012345678901234567890_logoFile_2016_03_31_16_34_20.png"
              alt
            >
            <div>注册合作企业</div>
            <div>
              第一行第一行第一行第一行第一行第一行第二行第二行第二行第二行第二行第二行
              第三行第三行第三行第三行第...
            </div>
          </div>
          <div>
            <img
              src="http://chinaccso.org.cn:8090/upload/company/123456789012345678901234567890_logoFile_2016_03_31_16_34_20.png"
              alt
            >
            <div>注册合作企业</div>
            <div>
              第一行第一行第一行第一行第一行第一行第二行第二行第二行第二行第二行第二行
              第三行第三行第三行第三行第...
            </div>
          </div>
          <div>
            <img
              src="http://chinaccso.org.cn:8090/upload/company/123456789012345678901234567890_logoFile_2016_03_31_16_34_20.png"
              alt
            >
            <div>注册合作企业</div>
            <div>
              第一行第一行第一行第一行第一行第一行第二行第二行第二行第二行第二行第二行
              第三行第三行第三行第三行第...
            </div>
          </div>
          <div>
            <img
              src="http://chinaccso.org.cn:8090/upload/company/123456789012345678901234567890_logoFile_2016_03_31_16_34_20.png"
              alt
            >
            <div>注册合作企业</div>
            <div>
              第一行第一行第一行第一行第一行第一行第二行第二行第二行第二行第二行第二行
              第三行第三行第三行第三行第...
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</template>

<script>
import async from 'async'
import { getAction } from '@/api/manage'
import { getDictItemByDictCodeAndItemCode } from '@/components/dict/JDictSelectUtil'
import ConstConfig from '@/config/constant.config'
import constantCfgMixin from '@/mixins/constant.cfg'

export default {
  mixins: [constantCfgMixin],
  data() {
    return {
      certificate: [],
      professor: [],
      approvar: [],
      cooperator: [],
      url: 'sys/personnel/list'
    }
  },
  methods: {
    getArticle(param = {}) {
      async.serise({
        certificate_type_professor: async cb => {
          const res = await getDictItemByDictCodeAndItemCode({ ...ConstConfig.DICT.certificate_type_professor })
          cb(null, res.itemValue)
        },
        certificate_type_approvar: async cb => {
          const res = await getDictItemByDictCodeAndItemCode({ ...ConstConfig.DICT.certificate_type_approvar })
          cb(null, res.itemValue)
        },
        certificate_type_cooperator: async cb => {
          const res = await getDictItemByDictCodeAndItemCode({ ...ConstConfig.DICT.certificate_type_cooperator })
          cb(null, res.itemValue)
        },
        certificate: async cb => {
          const res = await getAction(`${window._CONFIG['domainURL']}/${this.url}`, { pageSize: -1, ...param })
          if (res.code === 0) {
            this.certificate = res.result.records
          }
          cb(null, this.certificate)
        }
      })
    }
  },
  mounted() {
    async.series(
      {
        surfaceShow: async cb => {
          const res = await getDictItemByDictCodeAndItemCode({ ...ConstConfig.DICT._true })
          cb(null, res.itemValue)
        }
      },
      (err, result) => {
        if (!err) {
          console.log(result)
          result.certificate.forEach(v => {
            if (v.enterpriseType === result.certificate_type_professor) {
              this.professor.push(v)
            } else if (v.enterpriseType === result.certificate_type_approvar) {
              this.approvar.push(v)
            } else if (v.enterpriseType === result.certificate_type_cooperator) {
              this.cooperator.push(v)
            }
          })
        }
      }
    )
  }
}
</script>
<style lang="scss" scoped>
@import '../common.scss';
.expert {
  margin: 20px 0;
}
.detail {
  display: flex;
  justify-content: space-around;
  align-items: center;
  margin: 10px 0;
}
.detail > div {
  width: 20%;
}
.detail img {
  width: 70px;
  height: 100px;
  margin-right: 20px;
}
.qiye {
  display: flex;
  justify-content: space-around;
  flex-wrap: wrap;
  margin: 10px 0;
}
.qiye img {
  width: 100%;
}
.qiye > div {
  width: 20%;
  display: flex;
  flex-direction: column;
  align-items: center;
}
</style>
